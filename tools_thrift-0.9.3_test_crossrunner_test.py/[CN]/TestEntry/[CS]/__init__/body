def __init__(self, testdir, server, client, delay, timeout, **kwargs):
    self.testdir = testdir
    self._log = multiprocessing.get_logger()
    self._config = kwargs
    self.protocol = kwargs['protocol']
    self.transport = kwargs['transport']
    self.socket = kwargs['socket']
    self.server = TestProgram('server', **self._fix_workdir(merge_dict(self._config, server)))
    self.client = TestProgram('client', **self._fix_workdir(merge_dict(self._config, client)))
    self.delay = delay
    self.timeout = timeout
    self._name = None
    self.success = None
    self.as_expected = None
    self.returncode = None
    self.expired = False
