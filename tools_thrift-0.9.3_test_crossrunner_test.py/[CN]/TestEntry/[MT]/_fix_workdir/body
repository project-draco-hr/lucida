def _fix_workdir(self, config):
    key = 'workdir'
    path = config.get(key, None)
    if (not path):
        path = self.testdir
    if os.path.isabs(path):
        path = os.path.realpath(path)
    else:
        path = os.path.realpath(os.path.join(self.testdir, path))
    config.update({key: path, })
    return config
