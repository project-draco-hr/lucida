{
  S4PropWrapper s4PropWrapper=getProperty(name,S4Double.class);
  S4Double s4Double=(S4Double)s4PropWrapper.getAnnotation();
  if (propValues.get(name) == null) {
    boolean isDefDefined=!(s4Double.defaultValue() == S4Double.NOT_DEFINED);
    if (s4Double.mandatory()) {
      if (!isDefDefined)       throw new InternalConfigurationException(getInstanceName(),name,"mandatory property is not set!");
    }
 else     if (!isDefDefined)     throw new InternalConfigurationException(getInstanceName(),name,"no default value for non-mandatory property");
    propValues.put(name,s4Double.defaultValue());
  }
  Object propObject=propValues.get(name);
  Double propValue;
  if (propObject instanceof Double)   propValue=(Double)propObject;
 else   if (propObject instanceof Number)   propValue=((Number)propObject).doubleValue();
 else   propValue=Double.valueOf(flattenProp(name));
  double[] range=s4Double.range();
  if (range.length != 2)   throw new InternalConfigurationException(getInstanceName(),name,Arrays.toString(range) + " is not of expected range type, which is {minValue, maxValue)");
  if (propValue < range[0] || propValue > range[1])   throw new InternalConfigurationException(getInstanceName(),name," is not in range (" + Arrays.toString(range) + ')');
  return propValue;
}
