{
  try {
    Iterator<SelectionKey> keys=selector.selectedKeys().iterator();
    while (keys.hasNext()) {
      SelectionKey key=keys.next();
      keys.remove();
      if (!key.isValid()) {
        continue;
      }
      TAsyncMethodCall methodCall=(TAsyncMethodCall)key.attachment();
      methodCall.transition(key);
      if (methodCall.isFinished() || methodCall.getClient().hasError()) {
        timeoutWatchSet.remove(methodCall);
      }
    }
  }
 catch (  ClosedSelectorException e) {
    LOGGER.error("Caught ClosedSelectorException in TAsyncClientManager!",e);
  }
}
