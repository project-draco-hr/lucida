def record_to_file(path):
    "Records from the microphone and outputs the resulting data to 'path'"
    (sample_width, data) = record()
    if (data is None):
        return
    data = pack(('<' + ('h' * len(data))), *data)
    wf = wave.open(path, 'wb')
    wf.setnchannels(1)
    wf.setsampwidth(sample_width)
    wf.setframerate(RATE)
    wf.writeframes(data)
    wf.close()
