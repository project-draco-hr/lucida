{
  final File thriftFile=new File(testRootDir,"missing.thrift");
  builder.addThriftPathElement(testRootDir);
  assertTrue(thriftFile.createNewFile());
  builder.addThriftFile(thriftFile);
  assertTrue(thriftFile.delete());
  final Thrift thrift=builder.build();
  assertTrue(!thriftFile.exists());
  assertFalse("gen-java directory should not exist",genJavaDir.exists());
  final int result=thrift.compile();
  assertEquals(1,result);
}
