def scons_env(env, add=''):
    opath = path.dirname(path.abspath('$TARGET'))
    lstr = (((('thrift --gen cpp -o ' + opath) + ' ') + add) + ' $SOURCE')
    cppbuild = Builder(action=lstr)
    env.Append(BUILDERS={'ThriftCpp': cppbuild, })
