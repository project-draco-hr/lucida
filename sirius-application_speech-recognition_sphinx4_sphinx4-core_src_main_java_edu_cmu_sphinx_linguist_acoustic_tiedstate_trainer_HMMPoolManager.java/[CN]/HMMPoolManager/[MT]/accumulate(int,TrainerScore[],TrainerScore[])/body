{
  int senoneID;
  TrainerScore thisScore=score[index];
  currentLogLikelihood=0;
  logLikelihood-=score[0].getScalingFactor();
  SenoneHMMState state=(SenoneHMMState)thisScore.getState();
  if (state == null) {
    senoneID=thisScore.getSenoneID();
    if (senoneID == TrainerAcousticModel.ALL_MODELS) {
      accumulateMean(senoneID,score[index]);
      accumulateVariance(senoneID,score[index]);
      accumulateMixture(senoneID,score[index]);
      accumulateTransition(senoneID,index,score,nextScore);
    }
  }
 else {
    if (state.isEmitting()) {
      senoneID=senonePool.indexOf(state.getSenone());
      accumulateMixture(senoneID,score[index]);
      accumulateTransition(senoneID,index,score,nextScore);
    }
  }
}
