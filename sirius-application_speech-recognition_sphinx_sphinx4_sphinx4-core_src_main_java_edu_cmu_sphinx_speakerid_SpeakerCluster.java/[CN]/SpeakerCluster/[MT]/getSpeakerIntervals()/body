{
  Iterator<Segment> it=segmentSet.iterator();
  Segment curent=new Segment(0,0), previous=it.next();
  int start=previous.getStartTime();
  int length=previous.getLength();
  int idx=0;
  ArrayList<Segment> ret=new ArrayList<Segment>();
  ret.add(previous);
  while (it.hasNext()) {
    curent=it.next();
    start=ret.get(idx).getStartTime();
    length=ret.get(idx).getLength();
    if ((start + length) == curent.getStartTime()) {
      ret.set(idx,new Segment(start,length + curent.getLength()));
    }
 else {
      idx++;
      ret.add(curent);
    }
    previous=curent;
  }
  return ret;
}
