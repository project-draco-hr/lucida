def testConnectTimeout(self):
    starttime = time.time()
    try:
        leaky = []
        for i in xrange(100):
            socket = TSocket.TSocket('localhost', self.port)
            socket.setTimeout(10)
            socket.open()
            leaky.append(socket)
    except:
        self.assert_(((time.time() - starttime) < 5.0))
