def work(self, segment):
    if ('recognized' in segment):
        segment['recognized'] = self.assemble(segment['recognized'])
    if ('traceback' in segment):
        traceback = []
        for (time, score, orth) in segment['traceback']:
            if (orth and orth.startswith('_')):
                orth = orth[1:]
                if shouldLink:
                    (notime, score, prefix) = traceback.pop()
                    orth = (prefix + orth)
            if (orth and orth.endswith('_')):
                orth = orth[:(-1)]
                shouldLink = True
            else:
                shouldLink = False
            traceback.append((time, score, orth))
        segment['traceback'] = traceback
