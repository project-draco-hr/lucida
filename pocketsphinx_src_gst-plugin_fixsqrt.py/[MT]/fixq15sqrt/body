def fixq15sqrt(x):
    if (x == 0):
        return 0
    elif (x == 1):
        return 181
    log2 = (math.log(x) / math.log(2))
    nearest_odd_log2 = int(log2)
    if (not (nearest_odd_log2 & 1)):
        nearest_odd_log2 -= 1
    base = (1 << (8 + (nearest_odd_log2 / 2)))
    int_rem = (x - (1 << nearest_odd_log2))
    scale = ((1 << (nearest_odd_log2 + 2)) - (1 << nearest_odd_log2))
    int_rem = ((int_rem * len(remtab)) / scale)
    return (base + int(((base * remtab[int_rem]) / 32768)))
