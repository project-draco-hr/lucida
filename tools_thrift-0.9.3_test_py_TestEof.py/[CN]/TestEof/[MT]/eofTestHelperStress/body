def eofTestHelperStress(self, pfactory):
    'Teest the ability of TBinaryProtocol to deal with the removal of every byte in the file'
    data = self.make_data(pfactory)
    for i in xrange(0, (len(data) + 1)):
        trans = TTransport.TMemoryBuffer(data[0:i])
        prot = pfactory.getProtocol(trans)
        try:
            x = Xtruct()
            x.read(prot)
            x.read(prot)
            x.read(prot)
        except EOFError:
            continue
        self.fail('Should have gotten an EOFError')
