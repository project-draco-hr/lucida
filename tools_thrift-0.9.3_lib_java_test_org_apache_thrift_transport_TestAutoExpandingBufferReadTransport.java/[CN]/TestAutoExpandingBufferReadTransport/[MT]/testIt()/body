{
  AutoExpandingBufferReadTransport t=new AutoExpandingBufferReadTransport(150,1.5);
  TMemoryInputTransport membuf=new TMemoryInputTransport(HUNDRED_BYTES);
  t.fill(membuf,100);
  assertEquals(100,t.getBytesRemainingInBuffer());
  assertEquals(0,t.getBufferPosition());
  byte[] target=new byte[10];
  assertEquals(10,t.read(target,0,10));
  assertEquals(ByteBuffer.wrap(HUNDRED_BYTES,0,10),ByteBuffer.wrap(target));
  assertEquals(90,t.getBytesRemainingInBuffer());
  assertEquals(10,t.getBufferPosition());
}
