{
  StringBuilder sb=new StringBuilder();
  while (token != null && !token.isEmitting()) {
    token=token.getPredecessor();
  }
  if (token != null) {
    Data lastWordFirstFeature=token.getData();
    Data lastFeature=lastWordFirstFeature;
    token=token.getPredecessor();
    while (token != null) {
      if (token.isWord()) {
        Word word=token.getWord();
        if (wantFiller || !word.isFiller()) {
          addWord(sb,word,(FloatData)lastFeature,(FloatData)lastWordFirstFeature);
        }
        lastWordFirstFeature=lastFeature;
      }
      Data feature=token.getData();
      if (feature != null) {
        lastFeature=feature;
      }
      token=token.getPredecessor();
    }
  }
  return sb.toString();
}
