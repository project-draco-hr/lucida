{
  final TProtocol in=fb.getInputProtocol();
  final TProtocol out=fb.getOutputProtocol();
  final TMessage msg=in.readMessageBegin();
  AsyncProcessFunction fn=processMap.get(msg.name);
  if (fn == null) {
    TProtocolUtil.skip(in,TType.STRUCT);
    in.readMessageEnd();
    TApplicationException x=new TApplicationException(TApplicationException.UNKNOWN_METHOD,"Invalid method name: '" + msg.name + "'");
    out.writeMessageBegin(new TMessage(msg.name,TMessageType.EXCEPTION,msg.seqid));
    x.write(out);
    out.writeMessageEnd();
    out.getTransport().flush();
    fb.responseReady();
    return true;
  }
  TBase args=(TBase)fn.getEmptyArgsInstance();
  try {
    args.read(in);
  }
 catch (  TProtocolException e) {
    in.readMessageEnd();
    TApplicationException x=new TApplicationException(TApplicationException.PROTOCOL_ERROR,e.getMessage());
    out.writeMessageBegin(new TMessage(msg.name,TMessageType.EXCEPTION,msg.seqid));
    x.write(out);
    out.writeMessageEnd();
    out.getTransport().flush();
    fb.responseReady();
    return true;
  }
  in.readMessageEnd();
  fn.start(iface,args,fn.getResultHandler(fb,msg.seqid));
  return true;
}
