def readMessageBegin(self):
    sz = self.readI32()
    if (sz < 0):
        version = (sz & TBinaryProtocol.VERSION_MASK)
        if (version != TBinaryProtocol.VERSION_1):
            raise TProtocolException(type=TProtocolException.BAD_VERSION, message=('Bad version in readMessageBegin: %d' % sz))
        type = (sz & TBinaryProtocol.TYPE_MASK)
        name = self.readString()
        seqid = self.readI32()
    else:
        if self.strictRead:
            raise TProtocolException(type=TProtocolException.BAD_VERSION, message='No protocol version header')
        name = self.trans.readAll(sz)
        type = self.readByte()
        seqid = self.readI32()
    return (name, type, seqid)
