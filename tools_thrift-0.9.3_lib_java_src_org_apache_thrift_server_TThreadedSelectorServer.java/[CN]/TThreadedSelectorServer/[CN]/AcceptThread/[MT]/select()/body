{
  try {
    acceptSelector.select();
    Iterator<SelectionKey> selectedKeys=acceptSelector.selectedKeys().iterator();
    while (!stopped_ && selectedKeys.hasNext()) {
      SelectionKey key=selectedKeys.next();
      selectedKeys.remove();
      if (!key.isValid()) {
        continue;
      }
      if (key.isAcceptable()) {
        handleAccept();
      }
 else {
        LOGGER.warn("Unexpected state in select! " + key.interestOps());
      }
    }
  }
 catch (  IOException e) {
    LOGGER.warn("Got an IOException while selecting!",e);
  }
}
