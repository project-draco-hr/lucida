{
  SelectionKey clientKey=null;
  try {
    clientKey=accepted.registerSelector(selector,SelectionKey.OP_READ);
    FrameBuffer frameBuffer=createFrameBuffer(accepted,clientKey,SelectorThread.this);
    clientKey.attach(frameBuffer);
  }
 catch (  IOException e) {
    LOGGER.warn("Failed to register accepted connection to selector!",e);
    if (clientKey != null) {
      cleanupSelectionKey(clientKey);
    }
    accepted.close();
  }
}
