@create.route('/create', methods=['GET', 'POST'])
@login_required
def create_route():
    options = {}
    username = session['username']
    try:
        services_list = []
        for service in thrift_client.SERVICES.values():
            (host, port) = service.get_host_port()
            services_list.append((service.name, host, port))
        if (request.method == 'POST'):
            if (not ('op' in request.form)):
                raise RuntimeError('Did you click the button?')
    except Exception as e:
        log(e)
        if (str(e) == 'TSocket read 0 bytes'):
            e = 'Back-end service encountered a problem'
        options['error'] = e
    return render_template('create.html', service_list=sorted(services_list, key=(lambda i: i[0])))
