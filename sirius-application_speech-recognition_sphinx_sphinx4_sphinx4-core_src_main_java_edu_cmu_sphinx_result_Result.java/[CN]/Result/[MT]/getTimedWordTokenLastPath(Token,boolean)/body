{
  StringBuilder sb=new StringBuilder();
  Word word=null;
  Data lastFeature=null;
  Data lastWordFirstFeature=null;
  while (token != null) {
    if (token.isWord()) {
      if (word != null && lastFeature != null) {
        if (wantFiller || !word.isFiller()) {
          addWord(sb,word,(FloatData)lastFeature,(FloatData)lastWordFirstFeature);
        }
        word=token.getWord();
        lastWordFirstFeature=lastFeature;
      }
      word=token.getWord();
    }
    Data feature=token.getData();
    if (feature != null) {
      lastFeature=feature;
      if (lastWordFirstFeature == null) {
        lastWordFirstFeature=lastFeature;
      }
    }
    token=token.getPredecessor();
  }
  return sb.toString();
}
