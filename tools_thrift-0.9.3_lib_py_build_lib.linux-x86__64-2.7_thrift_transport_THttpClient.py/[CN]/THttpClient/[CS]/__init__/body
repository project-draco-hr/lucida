def __init__(self, uri_or_host, port=None, path=None):
    'THttpClient supports two different types constructor parameters.\n\n    THttpClient(host, port, path) - deprecated\n    THttpClient(uri)\n\n    Only the second supports https.\n    '
    if (port is not None):
        warnings.warn("Please use the THttpClient('http://host:port/path') syntax", DeprecationWarning, stacklevel=2)
        self.host = uri_or_host
        self.port = port
        assert path
        self.path = path
        self.scheme = 'http'
    else:
        parsed = urlparse.urlparse(uri_or_host)
        self.scheme = parsed.scheme
        assert (self.scheme in ('http', 'https'))
        if (self.scheme == 'http'):
            self.port = (parsed.port or httplib.HTTP_PORT)
        elif (self.scheme == 'https'):
            self.port = (parsed.port or httplib.HTTPS_PORT)
        self.host = parsed.hostname
        self.path = parsed.path
        if parsed.query:
            self.path += ('?%s' % parsed.query)
    self.__wbuf = StringIO()
    self.__http = None
    self.__timeout = None
    self.__custom_headers = None
