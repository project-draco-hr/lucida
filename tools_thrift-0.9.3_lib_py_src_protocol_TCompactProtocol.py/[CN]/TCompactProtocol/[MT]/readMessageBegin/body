def readMessageBegin(self):
    assert (self.state == CLEAR)
    proto_id = self.__readUByte()
    if (proto_id != self.PROTOCOL_ID):
        raise TProtocolException(TProtocolException.BAD_VERSION, ('Bad protocol id in the message: %d' % proto_id))
    ver_type = self.__readUByte()
    type = ((ver_type >> self.TYPE_SHIFT_AMOUNT) & self.TYPE_BITS)
    version = (ver_type & self.VERSION_MASK)
    if (version != self.VERSION):
        raise TProtocolException(TProtocolException.BAD_VERSION, ('Bad version: %d (expect %d)' % (version, self.VERSION)))
    seqid = self.__readVarint()
    name = self.__readString()
    return (name, type, seqid)
