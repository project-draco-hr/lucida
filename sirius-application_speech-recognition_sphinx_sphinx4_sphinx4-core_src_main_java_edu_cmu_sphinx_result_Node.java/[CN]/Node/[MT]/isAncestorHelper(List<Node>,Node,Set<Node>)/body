{
  for (  Node n : children) {
    if (seenNodes.contains(n)) {
      continue;
    }
    seenNodes.add(n);
    if (n.equals(node)) {
      return true;
    }
    if (isAncestorHelper(n.getChildNodes(),node,seenNodes)) {
      return true;
    }
  }
  return false;
}
