{
  byte[] input_buf=new byte[]{1,2,3,4,5,6,7,8,9,10};
  TMemoryInputTransport trans=new TMemoryInputTransport(input_buf);
  assertEquals(0,trans.getBufferPosition());
  assertEquals(input_buf,trans.getBuffer());
  assertEquals(10,trans.getBytesRemainingInBuffer());
  byte[] new_buf=new byte[]{10,9,8};
  trans.reset(new_buf);
  assertEquals(0,trans.getBufferPosition());
  assertEquals(new_buf,trans.getBuffer());
  assertEquals(3,trans.getBytesRemainingInBuffer());
}
