{
  TMessage message=new TMessage();
  int size=readI32();
  if (size < 0) {
    int version=size & VERSION_MASK;
    if (version != VERSION_1) {
      throw new TProtocolException(TProtocolException.BAD_VERSION,"Bad version in readMessageBegin");
    }
    message.type=(byte)(size & 0x000000ff);
    message.name=readString();
    message.seqid=readI32();
  }
 else {
    if (strictRead_) {
      throw new TProtocolException(TProtocolException.BAD_VERSION,"Missing version in readMessageBegin, old client?");
    }
    message.name=readStringBody(size);
    message.type=readByte();
    message.seqid=readI32();
  }
  return message;
}
