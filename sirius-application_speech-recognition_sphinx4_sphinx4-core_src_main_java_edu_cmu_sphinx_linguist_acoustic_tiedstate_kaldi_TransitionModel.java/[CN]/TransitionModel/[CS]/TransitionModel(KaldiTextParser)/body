{
  parser.expectToken("<TransitionModel>");
  parseTopology(parser);
  parser.expectToken("<Triples>");
  transitionStates=new HashMap<Triple,Integer>();
  int numTriples=parser.getInt();
  int transitionId=1;
  for (int i=0; i < numTriples; ++i) {
    int phone=parser.getInt();
    int hmmState=parser.getInt();
    int pdf=parser.getInt();
    Triple triple=new Triple(phone,hmmState,pdf);
    transitionStates.put(triple,transitionId);
    transitionId+=phoneStates.get(phone).get(hmmState).getTransitions().size();
  }
  parser.expectToken("</Triples>");
  parser.expectToken("<LogProbs>");
  logProbabilities=parser.getFloatArray();
  parser.expectToken("</LogProbs>");
  parser.expectToken("</TransitionModel>");
  LogMath logMath=LogMath.getInstance();
  for (int i=0; i < logProbabilities.length; ++i)   logProbabilities[i]=logMath.lnToLog(logProbabilities[i]);
}
