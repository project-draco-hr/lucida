{
  TMessage message=iprot.readMessageBegin();
  if (message.type != TMessageType.CALL && message.type != TMessageType.ONEWAY) {
    throw new TException("This should not have happened!?");
  }
  int index=message.name.indexOf(TMultiplexedProtocol.SEPARATOR);
  if (index < 0) {
    throw new TException("Service name not found in message name: " + message.name + ".  Did you "+ "forget to use a TMultiplexProtocol in your client?");
  }
  String serviceName=message.name.substring(0,index);
  TProcessor actualProcessor=SERVICE_PROCESSOR_MAP.get(serviceName);
  if (actualProcessor == null) {
    throw new TException("Service name not found: " + serviceName + ".  Did you forget "+ "to call registerProcessor()?");
  }
  TMessage standardMessage=new TMessage(message.name.substring(serviceName.length() + TMultiplexedProtocol.SEPARATOR.length()),message.type,message.seqid);
  return actualProcessor.process(new StoredMessageProtocol(iprot,standardMessage),oprot);
}
