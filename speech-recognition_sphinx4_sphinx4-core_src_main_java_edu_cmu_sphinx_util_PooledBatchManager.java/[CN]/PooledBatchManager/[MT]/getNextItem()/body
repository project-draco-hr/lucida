{
  lock();
  try {
    if (processingFile != null) {
      File completedFile=getCompletedFile(processingFile);
      processingFile.renameTo(completedFile);
      processingFile=null;
    }
    File testFile=getNextFile();
    if (testFile != null) {
      processingFile=getProcessingFile(testFile);
      testFile.renameTo(processingFile);
      System.out.println("Processing: " + processingFile);
      return getBatchItem(processingFile);
    }
 else {
      return null;
    }
  }
  finally {
    unlock();
  }
}
