{
  Configurable configurable;
  Class<? extends Configurable> defClass=s4Component.defaultClass();
  if (defClass.equals(Configurable.class) && s4Component.mandatory()) {
    throw new InternalConfigurationException(getInstanceName(),name,"mandatory property is not set!");
  }
  if (Modifier.isAbstract(defClass.getModifiers()) && s4Component.mandatory())   throw new InternalConfigurationException(getInstanceName(),name,defClass.getName() + " is abstract!");
  if (defClass.equals(Configurable.class)) {
    if (s4Component.mandatory()) {
      throw new InternalConfigurationException(getInstanceName(),name,instanceName + ": no default class defined for " + name);
    }
 else {
      return null;
    }
  }
  configurable=ConfigurationManager.getInstance(defClass);
  if (configurable == null) {
    throw new InternalConfigurationException(getInstanceName(),name,"instantiation of referenenced configurable failed");
  }
  return configurable;
}
