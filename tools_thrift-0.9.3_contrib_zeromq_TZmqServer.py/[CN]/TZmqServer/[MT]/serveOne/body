def serveOne(self):
    msg = self.socket.recv()
    itrans = thrift.transport.TTransport.TMemoryBuffer(msg)
    otrans = thrift.transport.TTransport.TMemoryBuffer()
    iprot = self.inputProtocolFactory.getProtocol(itrans)
    oprot = self.outputProtocolFactory.getProtocol(otrans)
    try:
        self.processor.process(iprot, oprot)
    except Exception:
        logging.exception('Exception while processing request')
    if (self.zmq_type == zmq.REP):
        msg = otrans.getvalue()
        self.socket.send(msg)
