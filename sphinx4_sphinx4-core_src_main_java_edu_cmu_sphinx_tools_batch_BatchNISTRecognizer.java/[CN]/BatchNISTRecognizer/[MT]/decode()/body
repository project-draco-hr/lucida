{
  try {
    utteranceId=0;
    DataOutputStream ctm=new DataOutputStream(new FileOutputStream(ctmFile));
    recognizer.allocate();
    for (Iterator<CTLUtterance> i=new CTLIterator(); i.hasNext(); ) {
      CTLUtterance utt=i.next();
      setInputStream(utt);
      Result result=recognizer.recognize();
      System.out.println("Utterance " + utteranceId + ": "+ utt.getName());
      System.out.println("Reference: " + utt.getRef());
      System.out.println("Result   : " + result);
      logger.info("Utterance " + utteranceId + ": "+ utt.getName());
      logger.info("Result   : " + result);
      handleResult(ctm,utt,result);
      utteranceId++;
    }
    recognizer.deallocate();
  }
 catch (  IOException io) {
    logger.severe("I/O error during decoding: " + io.getMessage());
  }
  logger.info("BatchCTLDecoder: " + utteranceId + " utterances decoded");
}
