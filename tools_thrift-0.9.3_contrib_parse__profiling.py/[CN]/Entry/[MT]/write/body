def write(self, f, options):
    f.write(self.header)
    f.write('\n')
    n = 0
    for address in self.bt:
        f.write(('  #%-2d %s:%s\n' % (n, address.sourceFile, address.sourceLine)))
        n += 1
        if options.printFunctions:
            if address.function:
                f.write(('      %s\n' % (address.function,)))
            else:
                f.write('      ??\n')
