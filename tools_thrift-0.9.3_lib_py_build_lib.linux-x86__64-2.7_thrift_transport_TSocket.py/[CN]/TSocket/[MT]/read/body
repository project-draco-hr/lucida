def read(self, sz):
    try:
        buff = self.handle.recv(sz)
    except socket.error as e:
        if ((e.args[0] == errno.ECONNRESET) and ((sys.platform == 'darwin') or sys.platform.startswith('freebsd'))):
            self.close()
            buff = ''
        else:
            raise
    if (len(buff) == 0):
        raise TTransportException(type=TTransportException.END_OF_FILE, message='TSocket read 0 bytes')
    return buff
