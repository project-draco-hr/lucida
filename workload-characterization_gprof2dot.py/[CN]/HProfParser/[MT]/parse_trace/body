def parse_trace(self):
    l = self.consume()
    mo = self.trace_id_re.match(l)
    tid = mo.group(1)
    last = None
    trace = []
    while self.lookahead().startswith('\t'):
        l = self.consume()
        match = self.trace_re.search(l)
        if (not match):
            break
        else:
            (function_name, file, line) = match.groups()
            trace += [(function_name, file, line)]
    self.traces[int(tid)] = trace
