def add_entry(self, callers, function, callees):
    try:
        entry = self.entries[function.id]
    except KeyError:
        self.entries[function.id] = (callers, function, callees)
    else:
        (callers_total, function_total, callees_total) = entry
        self.update_subentries_dict(callers_total, callers)
        function_total.samples += function.samples
        self.update_subentries_dict(callees_total, callees)
