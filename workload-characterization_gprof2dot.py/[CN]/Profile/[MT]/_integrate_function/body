def _integrate_function(self, function, outevent, inevent):
    if (function.cycle is not None):
        return self._integrate_cycle(function.cycle, outevent, inevent)
    else:
        if (outevent not in function):
            total = function[inevent]
            for call in compat_itervalues(function.calls):
                if (call.callee_id != function.id):
                    total += self._integrate_call(call, outevent, inevent)
            function[outevent] = total
        return function[outevent]
