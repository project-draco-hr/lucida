{
  serverThread=new Thread(){
    public void run(){
      try {
        TNonblockingServerSocket tServerSocket=new TNonblockingServerSocket(new TNonblockingServerSocket.NonblockingAbstractServerSocketArgs().port(PORT));
        server=getServer(processor,tServerSocket,protoFactory,factory);
        System.out.println("Starting the server on port " + PORT + "...");
        server.serve();
      }
 catch (      Exception e) {
        e.printStackTrace();
        fail();
      }
    }
  }
;
  serverThread.start();
  Thread.sleep(1000);
}
