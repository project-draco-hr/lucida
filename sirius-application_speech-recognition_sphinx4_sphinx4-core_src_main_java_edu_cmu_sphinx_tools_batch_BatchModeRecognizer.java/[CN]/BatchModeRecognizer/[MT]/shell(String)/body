{
  try {
    CommandInterpreter ci=new CommandInterpreter();
    ci.setPrompt("s4> ");
    addCommands(ci);
    setBatchFile(batchfile);
    recognizer.allocate();
    ci.run();
    batchManager.stop();
    if (recognizer.getState() == State.READY) {
      recognizer.deallocate();
    }
  }
 catch (  IOException io) {
    logger.severe("I/O error during decoding: " + io.getMessage());
    throw io;
  }
}
