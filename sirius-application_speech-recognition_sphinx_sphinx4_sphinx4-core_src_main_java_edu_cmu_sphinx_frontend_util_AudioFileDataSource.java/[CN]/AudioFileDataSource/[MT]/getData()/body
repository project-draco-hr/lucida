{
  getTimer().start();
  Data output=null;
  if (streamEndReached) {
    if (!utteranceEndSent) {
      output=createDataEndSignal();
      utteranceEndSent=true;
    }
  }
 else {
    if (!utteranceStarted) {
      utteranceStarted=true;
      output=new DataStartSignal(sampleRate);
    }
 else {
      if (dataStream != null) {
        output=readNextFrame();
        if (output == null) {
          if (!utteranceEndSent) {
            output=createDataEndSignal();
            utteranceEndSent=true;
          }
        }
      }
    }
  }
  getTimer().stop();
  return output;
}
