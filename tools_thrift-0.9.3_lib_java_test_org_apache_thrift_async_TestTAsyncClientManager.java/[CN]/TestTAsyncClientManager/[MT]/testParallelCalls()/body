{
  int numThreads=50;
  int numCallsPerThread=100;
  List<JankyRunnable> runnables=new ArrayList<JankyRunnable>();
  List<Thread> threads=new ArrayList<Thread>();
  for (int i=0; i < numThreads; i++) {
    JankyRunnable runnable=new JankyRunnable(numCallsPerThread);
    Thread thread=new Thread(runnable);
    thread.start();
    threads.add(thread);
    runnables.add(runnable);
  }
  for (  Thread thread : threads) {
    thread.join();
  }
  int numSuccesses=0;
  for (  JankyRunnable runnable : runnables) {
    numSuccesses+=runnable.getNumSuccesses();
  }
  assertEquals(numThreads * numCallsPerThread,numSuccesses);
}
