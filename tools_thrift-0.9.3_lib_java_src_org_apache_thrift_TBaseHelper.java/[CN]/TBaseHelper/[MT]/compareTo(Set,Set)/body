{
  int lastComparison=compareTo(a.size(),b.size());
  if (lastComparison != 0) {
    return lastComparison;
  }
  SortedSet sortedA=new TreeSet(comparator);
  sortedA.addAll(a);
  SortedSet sortedB=new TreeSet(comparator);
  sortedB.addAll(b);
  Iterator iterA=sortedA.iterator();
  Iterator iterB=sortedB.iterator();
  while (iterA.hasNext() && iterB.hasNext()) {
    lastComparison=comparator.compare(iterA.next(),iterB.next());
    if (lastComparison != 0) {
      return lastComparison;
    }
  }
  return 0;
}
