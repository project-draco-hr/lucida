{
  if ((fst1 == null) || (fst2 == null)) {
    return null;
  }
  if (!Arrays.equals(fst1.getOsyms(),fst2.getIsyms())) {
    return null;
  }
  Fst filter=getFilter(fst1.getOsyms(),semiring);
  augment(1,fst1,semiring);
  augment(0,fst2,semiring);
  Fst tmp=Compose.compose(fst1,filter,semiring,false);
  Fst res=Compose.compose(tmp,fst2,semiring,false);
  return res;
}
