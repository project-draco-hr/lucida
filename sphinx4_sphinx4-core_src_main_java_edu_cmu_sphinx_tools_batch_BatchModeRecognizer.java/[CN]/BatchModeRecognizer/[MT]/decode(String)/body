{
  BatchItem batchItem;
  int count=0;
  try {
    recognizer.allocate();
    setBatchFile(batchFile);
    batchManager.start();
    logger.info("BatchDecoder: decoding files in " + batchManager.getFilename());
    while (count < utteranceId && (batchItem=batchManager.getNextItem()) != null) {
      setInputStream(batchItem.getFilename());
      Result result=recognizer.recognize(batchItem.getTranscript());
      logger.info("File  : " + batchItem.getFilename());
      logger.info("Result: " + result);
      count++;
    }
    batchManager.stop();
    recognizer.deallocate();
  }
 catch (  IOException io) {
    logger.severe("I/O error during decoding: " + io.getMessage());
    throw io;
  }
  logger.info("BatchDecoder: " + count + " files decoded");
}
