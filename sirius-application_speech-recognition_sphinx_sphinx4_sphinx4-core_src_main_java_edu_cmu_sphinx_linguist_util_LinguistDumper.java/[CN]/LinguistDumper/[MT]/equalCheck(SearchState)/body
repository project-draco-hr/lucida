{
  SearchState eqState=eqStates.cache(state);
  SearchState eqSig=eqSigs.get(state.getSignature());
  if (eqState == null ^ eqSig == null) {
    System.out.println("Missing one: ");
    System.out.println("  state val: " + state);
    System.out.println("  state sig: " + state.getSignature());
    System.out.println("  eqState val: " + eqState);
    System.out.println("  eqSig val: " + eqSig);
    if (eqState != null) {
      System.out.println("   eqState sig: " + eqState.getSignature());
    }
    if (eqSig != null) {
      System.out.println("   eqSig sig: " + eqSig.getSignature());
    }
  }
  if (eqState == null) {
    eqState=state;
  }
  if (eqSig == null) {
    eqSigs.put(state.getSignature(),state);
    eqSig=state;
  }
  if (!eqState.getSignature().equals(state.getSignature())) {
    System.out.println("Sigs mismatch for: ");
    System.out.println("  state sig: " + state.getSignature());
    System.out.println("  eqSig sig: " + eqSig.getSignature());
    System.out.println("  state val: " + state);
    System.out.println("  eqSig val: " + eqSig);
  }
  if (!eqState.equals(state)) {
    System.out.println("obj mismatch for: ");
    System.out.println("  state sig: " + state.getSignature());
    System.out.println("  eqSig sig: " + eqSig.getSignature());
    System.out.println("  state val: " + state);
    System.out.println("  eqSig val: " + eqSig);
  }
}
