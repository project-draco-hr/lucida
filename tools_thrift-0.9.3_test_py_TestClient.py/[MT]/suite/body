def suite():
    suite = unittest.TestSuite()
    loader = unittest.TestLoader()
    if (options.proto == 'binary'):
        suite.addTest(loader.loadTestsFromTestCase(NormalBinaryTest))
    elif (options.proto == 'accel'):
        suite.addTest(loader.loadTestsFromTestCase(AcceleratedBinaryTest))
    elif (options.proto == 'compact'):
        suite.addTest(loader.loadTestsFromTestCase(CompactTest))
    elif (options.proto == 'json'):
        suite.addTest(loader.loadTestsFromTestCase(JSONTest))
    else:
        raise AssertionError(('Unknown protocol given with --protocol: %s' % options.proto))
    return suite
