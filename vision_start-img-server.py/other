import pickledb
import subprocess, re, os, sys
from BaseHTTPServer import HTTPServer, BaseHTTPRequestHandler
from SimpleHTTPServer import SimpleHTTPRequestHandler
from SocketServer import ThreadingMixIn
import threading
import cgi
from datetime import datetime
PORT_NUMBER = 8081
dlog = 'img-log/'
size = 'db'
name = 'landmarks'
img_db = ('matching/%s/%s' % (name, size))
name += '.pickle'
pickdb = pickledb.load(name, True)
if (__name__ == '__main__'):
    cmd = ('mkdir -p ' + dlog)
    shcmd(cmd)
    host = 'localhost'
    port = 8081
    server = ThreadedHTTPServer((host, port), Handler)
    print ('Starting server on %s:%s, use <Ctrl-C> to stop' % (host, port))
    server.serve_forever()
