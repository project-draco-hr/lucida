{
  byte[] buf=new byte[3];
  buf[0]=0x11;
  TProtocolFactory factory=TProtocolUtil.guessProtocolFactory(buf,new TBinaryProtocol.Factory());
  assertTrue(factory instanceof TCompactProtocol.Factory);
  buf[0]=0;
  for (int i=0x80; i < 0x100; i++) {
    buf[1]=(byte)i;
    factory=TProtocolUtil.guessProtocolFactory(buf,new TBinaryProtocol.Factory());
    assertTrue(factory instanceof TCompactProtocol.Factory);
  }
}
