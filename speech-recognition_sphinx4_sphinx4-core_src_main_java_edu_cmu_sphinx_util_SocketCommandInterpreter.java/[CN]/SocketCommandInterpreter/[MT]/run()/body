{
  ServerSocket ss;
  try {
    ss=new ServerSocket(port);
    System.out.println("Waiting on " + ss);
  }
 catch (  IOException ioe) {
    System.out.println("Can't open socket on port " + port);
    ioe.printStackTrace();
    return;
  }
  while (acceptConnections) {
    try {
      Socket s=ss.accept();
      spawnCommandInterpreter(s);
    }
 catch (    IOException ioe) {
      System.err.println("Could not accept socket " + ioe);
      ioe.printStackTrace();
      break;
    }
  }
  try {
    ss.close();
  }
 catch (  IOException ioe) {
    System.err.println("Could not close server socket " + ioe);
    ioe.printStackTrace();
  }
}
