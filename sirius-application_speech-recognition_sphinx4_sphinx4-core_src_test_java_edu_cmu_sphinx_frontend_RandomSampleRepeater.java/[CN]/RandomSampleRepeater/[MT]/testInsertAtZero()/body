{
  RandomSampleRepeater rsr=ConfigurationManager.getInstance(RandomSampleRepeater.class);
  rsr.randStreamStart=true;
  rsr.useRandSeed=false;
  rsr.initialize();
  rsr.maxRepeatedSamples=5;
  rsr.numInsertedSamples=20;
  rsr.nextInsertionPoint=5;
  double[] data=new double[]{1,2,3,4,5,6,7,8,9,10};
  DoubleData dd=new DoubleData(data,16000,0);
  DoubleData extData=rsr.process(dd);
  double[] expectedData=new double[]{1,2,3,4,5,1,2,6,7,8,9,10};
  Assert.assertEquals(extData.getFirstSampleNumber(),20,0);
  Assert.assertEquals(extData.getValues().length,expectedData.length);
  for (int i=0; i < expectedData.length; i++) {
    Assert.assertEquals(extData.getValues()[i],expectedData[i],0);
  }
}
