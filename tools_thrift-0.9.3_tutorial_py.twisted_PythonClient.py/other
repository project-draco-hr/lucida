import sys, glob
sys.path.append('gen-py.twisted')
sys.path.insert(0, glob.glob('../../lib/py/build/lib.*')[0])
from tutorial import Calculator
from tutorial.ttypes import *
from twisted.internet.defer import inlineCallbacks
from twisted.internet import reactor
from twisted.internet.protocol import ClientCreator
from thrift import Thrift
from thrift.transport import TTwisted
from thrift.protocol import TBinaryProtocol
if (__name__ == '__main__'):
    d = ClientCreator(reactor, TTwisted.ThriftClientProtocol, Calculator.Client, TBinaryProtocol.TBinaryProtocolFactory()).connectTCP('127.0.0.1', 9090)
    d.addCallback((lambda conn: conn.client))
    d.addCallback(main)
    reactor.run()
