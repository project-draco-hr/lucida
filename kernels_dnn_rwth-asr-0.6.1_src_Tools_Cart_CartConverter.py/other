import sys
sys.path.append('../Bliss')
from optparse import OptionParser
from xmlWriterLib import openXml, closeXml, XmlWriter
from miscLib import uopen, uclose
from string import whitespace
from os.path import exists
if (__name__ == '__main__'):
    parser = OptionParser()
    parser.add_option('-o', '--oldCartTree', dest='pathToOldTree', help='path to the old cart-tree-file', metavar='FILE')
    parser.add_option('-n', '--newCartTree', dest='pathToNewTree', help='path to the new cart-tree-file', metavar='FILE')
    (options, args) = parser.parse_args()
    if (options.pathToOldTree == None):
        print 'path to old cart file not given'
        parser.print_help()
        exit()
    elif (not exists(options.pathToOldTree)):
        print 'path to old cart tree not valid'
        exit
    if (options.pathToNewTree == None):
        pathToNewTree = (options.pathToOldTree + '.xml')
    else:
        pathToNewTree = options.pathToNewTree
    converter = CartConverter(options.pathToOldTree, pathToNewTree)
    converter.convert()
