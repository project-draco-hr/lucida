{
  String configFile=null;
  String frontEndName=null;
  String inputFile=null;
  String inputCtl=null;
  String outputFile=null;
  String format="binary";
  for (int i=0; i < argv.length; i++) {
    if (argv[i].equals("-c")) {
      configFile=argv[++i];
    }
    if (argv[i].equals("-name")) {
      frontEndName=argv[++i];
    }
    if (argv[i].equals("-i")) {
      inputFile=argv[++i];
    }
    if (argv[i].equals("-ctl")) {
      inputCtl=argv[++i];
    }
    if (argv[i].equals("-o")) {
      outputFile=argv[++i];
    }
    if (argv[i].equals("-format")) {
      format=argv[++i];
    }
  }
  if (frontEndName == null || (inputFile == null && inputCtl == null) || outputFile == null || format == null) {
    System.out.println("Usage: FeatureFileDumper " + "[ -config configFile ] -name frontendName " + "< -i input File -o outputFile | -ctl inputFile -i inputFolder -o outputFolder >\n"+ "Possible frontends are: cepstraFrontEnd, spectraFrontEnd, plpFrontEnd");
    System.exit(1);
  }
  logger.info("Input file: " + inputFile);
  logger.info("Output file: " + outputFile);
  logger.info("Format: " + format);
  try {
    URL url;
    if (configFile != null) {
      url=new File(configFile).toURI().toURL();
    }
 else {
      url=FeatureFileDumper.class.getResource("frontend.config.xml");
    }
    ConfigurationManager cm=new ConfigurationManager(url);
    if (cm.lookup(frontEndName) == null) {
      throw new RuntimeException("No such frontend: " + frontEndName);
    }
    FeatureFileDumper dumper=new FeatureFileDumper(cm,frontEndName);
    if (inputCtl == null)     dumper.processFile(inputFile,outputFile,format);
 else     dumper.processCtl(inputCtl,inputFile,outputFile,format);
  }
 catch (  IOException ioe) {
    System.err.println("I/O Error " + ioe);
  }
catch (  PropertyException p) {
    System.err.println("Bad configuration " + p);
  }
}
