{
  try {
    assert(allFeatures != null);
    Data feature=frontEnd.getData();
    while (!(feature instanceof DataEndSignal)) {
      if (feature instanceof DoubleData) {
        double[] featureData=((DoubleData)feature).getValues();
        if (featureLength < 0) {
          featureLength=featureData.length;
          logger.info("Feature length: " + featureLength);
        }
        float[] convertedData=new float[featureData.length];
        for (int i=0; i < featureData.length; i++) {
          convertedData[i]=(float)featureData[i];
        }
        allFeatures.add(convertedData);
      }
 else       if (feature instanceof FloatData) {
        float[] featureData=((FloatData)feature).getValues();
        if (featureLength < 0) {
          featureLength=featureData.length;
          logger.info("Feature length: " + featureLength);
        }
        allFeatures.add(featureData);
      }
      feature=frontEnd.getData();
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
