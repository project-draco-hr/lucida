{
  byte[] bytes=new byte[]{0,1,2,3,4,5};
  ByteBuffer b=ByteBuffer.wrap(bytes);
  ByteBuffer bCopy=TBaseHelper.copyBinary(b);
  assertEquals(b,bCopy);
  assertEquals(0,b.position());
  b=ByteBuffer.allocateDirect(6);
  b.put(bytes);
  b.position(0);
  bCopy=TBaseHelper.copyBinary(b);
  assertEquals(6,b.remaining());
  assertEquals(0,b.position());
  assertEquals(b,bCopy);
  b.mark();
  b.get();
  bCopy=TBaseHelper.copyBinary(b);
  assertEquals(ByteBuffer.wrap(bytes,1,5),bCopy);
  assertEquals(1,b.position());
  b.reset();
  assertEquals(0,b.position());
  assertNull(TBaseHelper.copyBinary((ByteBuffer)null));
}
