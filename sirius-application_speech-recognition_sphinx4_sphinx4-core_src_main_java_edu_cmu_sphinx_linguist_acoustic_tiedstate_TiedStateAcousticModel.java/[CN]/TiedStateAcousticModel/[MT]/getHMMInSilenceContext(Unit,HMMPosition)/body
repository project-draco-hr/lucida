{
  SenoneHMM hmm=null;
  HMMManager mgr=loader.getHMMManager();
  Context context=unit.getContext();
  if (context instanceof LeftRightContext) {
    LeftRightContext lrContext=(LeftRightContext)context;
    Unit[] lc=lrContext.getLeftContext();
    Unit[] rc=lrContext.getRightContext();
    Unit[] nlc;
    Unit[] nrc;
    if (hasNonSilenceFiller(lc)) {
      nlc=replaceNonSilenceFillerWithSilence(lc);
    }
 else {
      nlc=lc;
    }
    if (hasNonSilenceFiller(rc)) {
      nrc=replaceNonSilenceFillerWithSilence(rc);
    }
 else {
      nrc=rc;
    }
    if (nlc != lc || nrc != rc) {
      Context newContext=LeftRightContext.get(nlc,nrc);
      Unit newUnit=unitManager.getUnit(unit.getName(),unit.isFiller(),newContext);
      hmm=(SenoneHMM)mgr.get(position,newUnit);
      if (hmm == null) {
        hmm=getHMMAtAnyPosition(newUnit);
      }
    }
  }
  return hmm;
}
